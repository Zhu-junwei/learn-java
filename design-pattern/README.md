# 设计模式

教程：[深入设计模式](https://refactoringguru.cn/design-patterns)

# GoF 23种设计模式分类（创建型/结构型/行为型）

## 一、创建型模式（5种）
**核心目标**：处理对象创建机制，提供灵活、可复用的对象创建方式。

| 模式名称               | 核心思想                                                                 | 典型应用场景                     |
|------------------------|--------------------------------------------------------------------------|----------------------------------|
| **单例模式** Singleton | 确保类只有一个实例，并提供全局访问点                                       | 配置管理器、数据库连接池          |
| **工厂方法** Factory Method | 定义创建对象的接口，由子类决定实例化的类                                   | 跨平台UI组件创建                 |
| **抽象工厂** Abstract Factory | 创建相关或依赖对象的家族，无需指定具体类                                   | 整套UI风格组件                   |
| **建造者模式** Builder | 分步骤构建复杂对象，分离构造与表示                                         | SQL查询构建器、复杂对象初始化     |
| **原型模式** Prototype | 通过克隆现有对象创建新对象，避免重复初始化                                 | 游戏角色复制、高成本对象创建      |

## 二、结构型模式（7种）
**核心目标**：关注类和对象的组合方式，形成更大的结构。

| 模式名称               | 核心思想                                                                 | 典型应用场景                     |
|------------------------|--------------------------------------------------------------------------|----------------------------------|
| **适配器模式** Adapter | 转换接口使不兼容的类能协同工作                                             | 旧API适配新系统                  |
| **桥接模式** Bridge    | 将抽象与实现分离，使两者可独立变化                                         | 不同图形渲染引擎切换              |
| **组合模式** Composite | 以树形结构处理部分-整体关系                                                | 文件系统、UI组件嵌套              |
| **装饰器模式** Decorator | 动态添加职责，避免子类膨胀                                                 | Java I/O流扩展                   |
| **外观模式** Facade    | 提供统一接口简化子系统访问                                                 | 一键启动复杂系统                  |
| **享元模式** Flyweight | 共享细粒度对象以减少内存占用                                               | 字符渲染、游戏粒子系统            |
| **代理模式** Proxy     | 为其他对象提供代理以控制访问                                               | 远程服务调用、懒加载              |

## 三、行为型模式（11种）
**核心目标**：管理对象间的交互和职责分配。

| 模式名称                      | 核心思想                                                                 | 典型应用场景                     |
|-------------------------------|--------------------------------------------------------------------------|----------------------------------|
| **职责链模式** Chain of Responsibility | 将请求沿处理链传递，直到有对象处理它                                       | 审批流程、异常处理链              |
| **命令模式** Command          | 将请求封装为对象，支持撤销/重做                                            | GUI操作封装、事务系统             |
| **解释器模式** Interpreter    | 定义语言的文法表示，并解释执行                                             | 正则表达式、DSL解析               |
| **迭代器模式** Iterator       | 提供顺序访问聚合对象元素的方法                                             | 集合遍历、树形结构访问            |
| **中介者模式** Mediator       | 通过中介对象封装一组对象交互                                               | 聊天室、组件通信中间层            |
| **备忘录模式** Memento        | 捕获并外部化对象状态以便恢复                                               | 文档历史记录、游戏存档            |
| **观察者模式** Observer       | 定义对象间一对多依赖，状态变更时自动通知                                   | 事件监听、发布-订阅系统           |
| **状态模式** State            | 允许对象在内部状态改变时改变行为                                           | 订单状态流转、工作流引擎          |
| **策略模式** Strategy         | 定义算法家族，使其可互相替换                                               | 支付方式选择、排序算法切换        |
| **模板方法模式** Template Method | 定义算法骨架，子类重写特定步骤                                             | 咖啡冲泡流程、标准化业务流程      |
| **访问者模式** Visitor        | 将操作与对象结构分离，便于新增操作                                         | AST树遍历、复杂对象结构操作       |

## 分类对比总结

| **分类维度** | **核心关注点**               | **关键优势**                     | **代表性模式**               |
|--------------|----------------------------|--------------------------------|----------------------------|
| **创建型**   | 对象创建机制                | 解耦客户端与对象创建过程         | 工厂方法、单例               |
| **结构型**   | 类和对象的组合              | 通过组合构建灵活扩展的结构       | 适配器、装饰器               |
| **行为型**   | 对象间交互与职责分配        | 简化复杂交互逻辑的管理           | 观察者、策略                 |
